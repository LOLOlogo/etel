<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <title>Formulario y Ejercicio</title>
  <style>
    body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #e8f5e9; /* Verde claro suave */
  color: #2e4a2c; /* Marrón suave */
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

.container {
  width: 95%; /* Tamaño adaptable */
  max-width: 600px; /* Tamaño máximo */
  margin: 0 auto; /* Centrar horizontalmente */
  padding: 20px; /* Espaciado interno */
  background-color: #f9f9f9; /* Fondo claro */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra suave */
  border-radius: 8px; /* Bordes redondeados */
  border: none; /* Eliminar cualquier borde blanco */
}

h1 {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #1a3d32; /* Verde oscuro */
}

p {
  margin-bottom: 20px;
  font-size: 1rem;
  color: #2e4a2c; /* Marrón suave */
}

form {
  margin-bottom: 20px;
}

label {
  display: block;
  margin: 10px 0 5px;
  font-size: 1rem;
  color: #3e5c3b; /* Verde suave */
}

input, select {
  width: 100%;
  max-width: 600px; /* Limitar el ancho */
  padding: 10px;
  margin: 0 auto 15px; /* Centrado automático */
  border: 1px solid #b5c9b8; /* Verde claro */
  border-radius: 8px;
  background-color: #f9f9f9; /* Fondo claro */
  font-size: 1rem;
  box-sizing: border-box;
}

button {
  display: inline-block;
  margin: 15px auto;
  padding: 12px 24px;
  background-color: #4caf50; /* Verde brillante */
  color: white;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #388e3c; /* Verde más oscuro */
}

iframe, img {
  max-width: 100%; /* No más ancho que su contenedor */
  height: auto; /* Mantener proporciones */
  border-radius: 8px;
  margin: 20px 0; /* Separación con otros elementos */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Sombras para estética */
}

audio {
  margin: 20px auto;
  width: 100%;
  max-width: 600px; /* Tamaño controlado */
}

.hidden {
  display: none;
}

#imageDescriptionExercise img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  border: 1px solid #b5c9b8;
  margin-bottom: 20px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  display: block;
}

#imageDescriptionExercise {
  background-color: transparent; /* Evita rectángulos blancos */
  padding: 0; /* Evita relleno adicional */
  margin: 0 auto; /* Centra el contenido */
  text-align: center; /* Centra el texto e imagen */
}

iframe {
  display: block;
  margin: 0 auto;
}

#youtubeContainer {
  position: relative;
  width: 100%;
  padding-bottom: 56.25%; /* Relación de aspecto 16:9 */
  height: 0;
  overflow: hidden; /* Evita que el contenido desborde */
  margin-bottom: 20px;
}

#youtubeContainer iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none; /* Elimina bordes no deseados */
  display: block;
}

#waitMessage {
  font-size: 0.9rem;
  color: #3e5c3b; /* Verde suave */
  margin-bottom: 10px;
}

/* Estilo para el contenedor final */
#downloadResults {
  text-align: center; /* Centrar el contenido */
  margin-top: 20px; /* Espaciado superior */
}

/* Botón específico de descarga */
.download-button {
  margin: 20px auto;
  padding: 12px 24px;
  background-color: #4caf50; /* Verde brillante */
  color: white;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #388e3c; /* Verde más oscuro */
}

  </style>
</head>
<body>
    <div class="container">
      <!-- Registro de Usuario -->
      <div id="registration">
        <h1>Registro de Usuario</h1>
        <form id="registrationForm">
          <label for="name">Nombre:</label>
          <input type="text" id="name" name="name" required>
          
          <label for="age">Edad:</label>
          <input type="number" id="age" name="age" min="1" required>
          
          <label for="birthdate">Fecha de Nacimiento:</label>
          <input type="date" id="birthdate" name="birthdate" required>
          
          <label for="contact">Número de Contacto:</label>
          <input type="tel" id="contact" name="contact" required>
          
          <label for="country">País:</label>
          <input type="text" id="country" name="country" required>
          
          <label for="city">Ciudad:</label>
          <input type="text" id="city" name="city" required>
          
          <label for="education">Nivel de Estudios:</label>
          <select id="education" name="education" required>
            <option value="" disabled selected>Seleccione su nivel de estudios</option>
            <option value="Primaria">Primaria</option>
            <option value="Secundaria">Secundaria</option>
            <option value="Preparatoria">Formación Profesional</option>
            <option value="Universidad">Universidad</option>
            <option value="Postgrado">Postgrado</option>
          </select>
          
          <button type="button" onclick="submitRegistration()">Continuar</button>
        </form>
      </div>
  
      <!-- Ejercicio de Selección -->
      <div id="exercise" class="hidden container">
        <h1>Ejercicio de Selección</h1>
        <p>Lee la frase y selecciona la opción correcta:</p>
        <p><strong>Pregunta:</strong> ¿Cuál es la capital de Francia?</p>
        <form id="quizForm">
          <div class="option">
            <input type="radio" id="option1" name="answer" value="Madrid">
            <label for="option1">Madrid</label>
          </div>
          <div class="option">
            <input type="radio" id="option2" name="answer" value="Berlín">
            <label for="option2">Berlín</label>
          </div>
          <div class="option">
            <input type="radio" id="option3" name="answer" value="París">
            <label for="option3">París</label>
          </div>
          <div class="option">
            <input type="radio" id="option4" name="answer" value="Roma">
            <label for="option4">Roma</label>
          </div>
          <button type="button" onclick="submitAnswer()">Guardar Datos</button>
        </form>
      </div>
  
      <!-- Ejercicio de Grabación -->
      <div id="audioExercise" class="hidden container">
        <h1>Ejercicio de Grabación</h1>
        <p>Presiona el botón para grabar un audio con tu respuesta:</p>
        <div id="youtubeContainer">
          <iframe
            id="instructionalVideo"
            src="https://drive.google.com/file/d/1FCj_uOEjMK-r85DNBI0NDciIRIOIiyb1/preview"
            frameborder="0"
            allow="autoplay"
            allowfullscreen
          ></iframe>
        </div>
        <p id="waitMessage" class="hidden">El botón estará disponible en 20 minutos.</p>
        <button id="startRecording" class="hidden">Comenzar Grabación</button>
        <button id="stopRecording" class="hidden">Detener Grabación</button>
        <audio id="audioPlayback" controls class="hidden"></audio>
        <button id="saveAudio" class="hidden">Guardar Audio</button>
        <button id="nextToDescription" class="hidden">Continuar</button>
      </div>
      
    <div id="imageDescriptionExercise" class="hidden container">
      <h1>Ejercicio: Descripción de la Imagen</h1>
      <p>Observa la siguiente imagen y graba un audio describiendo lo que ves.</p>
        <img 
          src="https://i.imgur.com/lfdQhdI.png" 
          alt="Imagen del ejercicio"
        />
      <p><strong>Pregunta:</strong> ¿Qué observas en esta imagen?</p>
      <button id="startImageDescriptionRecording">Comenzar Grabación</button>
      <button id="stopImageDescriptionRecording" class="hidden">Detener Grabación</button>
      <audio id="imageDescriptionPlayback" controls class="hidden"></audio>
      <button id="saveImageDescriptionAudio" class="hidden">Guardar Audio</button>
    </div>

    <div id="repeatExercise" class="hidden container">
      <h1>Ejercicio: Repetición de Oraciones</h1>
      <p id="repeatStatus" style="font-size: 1.2rem; font-weight: bold; color: #4caf50;">Inicia el ejercicio para empezar.</p>
      <button id="startRepeatExercise">Iniciar Ejercicio</button>
      <button id="saveRepeatExercise" class="hidden">Guardar Todos los Audios</button>
    </div>    

    <div id="wordRepeatExercise" class="hidden container">
      <h1>Ejercicio de Repetición de Palabras</h1>
      <p id="wordRepeatStatus">Presiona el botón para comenzar.</p>
      <button id="startWordRepeatExercise">Comenzar Ejercicio</button>
      <button id="saveWordRepeatExercise" class="hidden">Finalizar y Guardar Resultados</button>
    </div>
    
    <div id="downloadResults" class="hidden container">
      <h1>Finalizar y Descargar Resultados</h1>
      <button class="download-button" onclick="saveFinalResults()">Descargar ZIP</button>
    </div>
    
  <script>
function _0x54a3(_0xabcf58,_0x45f1e6){const _0x1083b0=_0x1083();return _0x54a3=function(_0x54a35f,_0xa62061){_0x54a35f=_0x54a35f-0x9b;let _0x2b566d=_0x1083b0[_0x54a35f];return _0x2b566d;},_0x54a3(_0xabcf58,_0x45f1e6);}const _0x5da25a=_0x54a3;(function(_0x192fcf,_0xd45430){const _0x4c02ea=_0x54a3,_0x2f07e1=_0x192fcf();while(!![]){try{const _0x39f960=parseInt(_0x4c02ea(0xac))/0x1*(-parseInt(_0x4c02ea(0x108))/0x2)+parseInt(_0x4c02ea(0xc5))/0x3*(-parseInt(_0x4c02ea(0xeb))/0x4)+parseInt(_0x4c02ea(0x10e))/0x5*(-parseInt(_0x4c02ea(0xfc))/0x6)+-parseInt(_0x4c02ea(0xea))/0x7*(parseInt(_0x4c02ea(0xb1))/0x8)+-parseInt(_0x4c02ea(0xd5))/0x9*(parseInt(_0x4c02ea(0xc3))/0xa)+-parseInt(_0x4c02ea(0xa4))/0xb*(-parseInt(_0x4c02ea(0xd2))/0xc)+parseInt(_0x4c02ea(0xd7))/0xd;if(_0x39f960===_0xd45430)break;else _0x2f07e1['push'](_0x2f07e1['shift']());}catch(_0x43f8b0){_0x2f07e1['push'](_0x2f07e1['shift']());}}}(_0x1083,0x56e02));let userData={},mediaRecorder,descriptionMediaRecorder,repeatMediaRecorder,audioChunks=[],descriptionAudioChunks=[],repeatAudioChunks=[],currentSentenceIndex=0x0;const sentences=[_0x5da25a(0x100),_0x5da25a(0xe9),'El\x20gato\x20persigue\x20al\x20raton\x20\x20piiii',_0x5da25a(0xc1),_0x5da25a(0xc0)];document['addEventListener']('DOMContentLoaded',()=>{const _0x4051fa=_0x5da25a,_0x5e7c17=0x1e,_0x45ab6d=document['getElementById'](_0x4051fa(0xa7)),_0xb59247=document['getElementById'](_0x4051fa(0xa6));_0x45ab6d[_0x4051fa(0xb8)][_0x4051fa(0xb7)]=_0x4051fa(0x10a),_0x45ab6d[_0x4051fa(0xf6)]=!![],_0xb59247[_0x4051fa(0xa1)][_0x4051fa(0xb4)](_0x4051fa(0xb2)),setTimeout(()=>{const _0x275149=_0x4051fa;_0x45ab6d[_0x275149(0xf6)]=![],_0xb59247[_0x275149(0xcf)]=_0x275149(0xc7);},_0x5e7c17*0x3e8);});function submitRegistration(){const _0x14bb23=_0x5da25a,_0xe76717=document['getElementById']('name')[_0x14bb23(0xf5)],_0x3f7dcd=document[_0x14bb23(0xfd)]('age')[_0x14bb23(0xf5)],_0x2de555=document[_0x14bb23(0xfd)]('birthdate')[_0x14bb23(0xf5)],_0x2142b1=document['getElementById'](_0x14bb23(0xf9))[_0x14bb23(0xf5)],_0x1375d7=document[_0x14bb23(0xfd)](_0x14bb23(0xcd))[_0x14bb23(0xf5)],_0x307553=document['getElementById']('city')['value'],_0x21b396=document['getElementById'](_0x14bb23(0xfa))[_0x14bb23(0xf5)];if(!_0xe76717||!_0x3f7dcd||!_0x2de555||!_0x2142b1||!_0x1375d7||!_0x307553||!_0x21b396){alert(_0x14bb23(0xd8));return;}Object[_0x14bb23(0xff)](userData,{'name':_0xe76717,'age':_0x3f7dcd,'birthdate':_0x2de555,'contact':_0x2142b1,'country':_0x1375d7,'city':_0x307553,'education':_0x21b396}),document[_0x14bb23(0xfd)](_0x14bb23(0xfe))[_0x14bb23(0xa1)][_0x14bb23(0x107)](_0x14bb23(0xb2)),document[_0x14bb23(0xfd)](_0x14bb23(0xf4))[_0x14bb23(0xa1)][_0x14bb23(0xb4)](_0x14bb23(0xb2));}function submitAnswer(){const _0x2d2ce3=_0x5da25a,_0x19452e=document[_0x2d2ce3(0xe5)](_0x2d2ce3(0xf3));if(!_0x19452e){alert(_0x2d2ce3(0xc6));return;}userData[_0x2d2ce3(0xae)]=_0x19452e['value'],document[_0x2d2ce3(0xfd)]('exercise')[_0x2d2ce3(0xa1)][_0x2d2ce3(0x107)](_0x2d2ce3(0xb2)),document[_0x2d2ce3(0xfd)](_0x2d2ce3(0xd6))[_0x2d2ce3(0xa1)][_0x2d2ce3(0xb4)]('hidden');}document[_0x5da25a(0xfd)]('startRecording')[_0x5da25a(0xaf)](_0x5da25a(0xe6),async()=>{const _0x1af4fd=_0x5da25a;try{const _0x4882e1=await navigator[_0x1af4fd(0xe8)][_0x1af4fd(0xef)]({'audio':!![]});mediaRecorder=new MediaRecorder(_0x4882e1),mediaRecorder['start'](),audioChunks=[],mediaRecorder[_0x1af4fd(0xaf)]('dataavailable',_0x2a53f8=>{const _0x45c5ca=_0x1af4fd;audioChunks[_0x45c5ca(0xc2)](_0x2a53f8[_0x45c5ca(0xa3)]);}),mediaRecorder[_0x1af4fd(0xaf)]('stop',()=>{const _0x397f61=_0x1af4fd,_0x14702d=new Blob(audioChunks,{'type':_0x397f61(0x9d)});userData['audioData']=_0x14702d,document[_0x397f61(0xfd)]('saveAudio')[_0x397f61(0xa1)][_0x397f61(0xb4)]('hidden');}),document[_0x1af4fd(0xfd)](_0x1af4fd(0xa7))[_0x1af4fd(0xa1)][_0x1af4fd(0x107)](_0x1af4fd(0xb2)),document[_0x1af4fd(0xfd)](_0x1af4fd(0x10c))[_0x1af4fd(0xa1)][_0x1af4fd(0xb4)](_0x1af4fd(0xb2));}catch(_0x4b7170){alert(_0x1af4fd(0x9b));}}),document[_0x5da25a(0xfd)](_0x5da25a(0x10c))[_0x5da25a(0xaf)]('click',()=>{const _0x5cbbab=_0x5da25a;mediaRecorder['stop'](),document['getElementById']('stopRecording')['classList'][_0x5cbbab(0x107)]('hidden');}),document[_0x5da25a(0xfd)]('saveAudio')[_0x5da25a(0xaf)](_0x5da25a(0xe6),()=>{const _0x4c0524=_0x5da25a;if(!userData[_0x4c0524(0xdf)]){alert(_0x4c0524(0xdd));return;}console[_0x4c0524(0xc8)]('Audio\x20de\x20narración\x20guardado\x20correctamente.'),document[_0x4c0524(0xfd)](_0x4c0524(0xd6))[_0x4c0524(0xa1)][_0x4c0524(0x107)](_0x4c0524(0xb2)),document[_0x4c0524(0xfd)](_0x4c0524(0xf7))[_0x4c0524(0xa1)]['remove'](_0x4c0524(0xb2));}),document[_0x5da25a(0xfd)]('startImageDescriptionRecording')['addEventListener'](_0x5da25a(0xe6),async()=>{const _0x3e4711=_0x5da25a;try{const _0x4c0dff=await navigator[_0x3e4711(0xe8)]['getUserMedia']({'audio':!![]});descriptionMediaRecorder=new MediaRecorder(_0x4c0dff),descriptionMediaRecorder[_0x3e4711(0xec)](),descriptionAudioChunks=[],descriptionMediaRecorder[_0x3e4711(0xaf)]('dataavailable',_0x5ebb3b=>{const _0x51515e=_0x3e4711;descriptionAudioChunks[_0x51515e(0xc2)](_0x5ebb3b[_0x51515e(0xa3)]);}),descriptionMediaRecorder[_0x3e4711(0xaf)](_0x3e4711(0xdc),()=>{const _0x5c3d92=_0x3e4711,_0x4bfe9d=new Blob(descriptionAudioChunks,{'type':_0x5c3d92(0x9d)});userData['imageDescriptionAudioData']=_0x4bfe9d,document[_0x5c3d92(0xfd)]('saveImageDescriptionAudio')[_0x5c3d92(0xa1)][_0x5c3d92(0xb4)](_0x5c3d92(0xb2));}),document[_0x3e4711(0xfd)](_0x3e4711(0xf0))[_0x3e4711(0xa1)][_0x3e4711(0x107)](_0x3e4711(0xb2)),document[_0x3e4711(0xfd)](_0x3e4711(0xaa))[_0x3e4711(0xa1)][_0x3e4711(0xb4)]('hidden');}catch(_0x31aa6c){alert(_0x3e4711(0x9b));}}),document[_0x5da25a(0xfd)](_0x5da25a(0xaa))[_0x5da25a(0xaf)](_0x5da25a(0xe6),()=>{const _0x76ba96=_0x5da25a;descriptionMediaRecorder[_0x76ba96(0xdc)](),document['getElementById'](_0x76ba96(0xaa))[_0x76ba96(0xa1)][_0x76ba96(0x107)](_0x76ba96(0xb2));}),document['getElementById'](_0x5da25a(0xe0))['addEventListener']('click',()=>{const _0x22958a=_0x5da25a;if(!userData[_0x22958a(0xe7)]){alert('No\x20se\x20ha\x20grabado\x20el\x20audio\x20de\x20la\x20descripción\x20de\x20la\x20lámina.');return;}console['log'](_0x22958a(0xf8)),document[_0x22958a(0xfd)]('imageDescriptionExercise')['classList']['add'](_0x22958a(0xb2)),document[_0x22958a(0xfd)]('repeatExercise')[_0x22958a(0xa1)][_0x22958a(0xb4)](_0x22958a(0xb2));}),document[_0x5da25a(0xfd)]('startRepeatExercise')['addEventListener'](_0x5da25a(0xe6),()=>{const _0x2ef666=_0x5da25a;document['getElementById']('startRepeatExercise')['classList'][_0x2ef666(0x107)](_0x2ef666(0xb2)),document[_0x2ef666(0xfd)](_0x2ef666(0xb9))[_0x2ef666(0xcf)]=_0x2ef666(0xa2),playAndRecordNextSentence();});async function playAndRecordNextSentence(){const _0x11851b=_0x5da25a;if(currentSentenceIndex>=sentences[_0x11851b(0xd1)]){document['getElementById'](_0x11851b(0xc9))[_0x11851b(0xa1)][_0x11851b(0x107)](_0x11851b(0xb2)),document['getElementById'](_0x11851b(0xfb))[_0x11851b(0xa1)][_0x11851b(0xb4)](_0x11851b(0xb2)),startWordRepeatExercise();return;}const _0x3ac119=sentences[currentSentenceIndex],_0x1d0342=new SpeechSynthesisUtterance(_0x3ac119);_0x1d0342[_0x11851b(0x10b)]=_0x11851b(0xdb),document[_0x11851b(0xfd)](_0x11851b(0xb9))[_0x11851b(0xcf)]=_0x11851b(0xa2),_0x1d0342[_0x11851b(0xba)]=()=>{const _0x2d92b3=_0x11851b;document['getElementById']('repeatStatus')['textContent']=_0x2d92b3(0xde),startRecordingForRepetition();},window[_0x11851b(0xda)][_0x11851b(0x101)](_0x1d0342);}async function startRecordingForRepetition(){const _0x38ef7f=_0x5da25a;try{const _0x4d1365=await navigator[_0x38ef7f(0xe8)]['getUserMedia']({'audio':!![]});repeatMediaRecorder=new MediaRecorder(_0x4d1365),repeatMediaRecorder['start'](),repeatAudioChunks=[],repeatMediaRecorder[_0x38ef7f(0xaf)](_0x38ef7f(0xbf),_0x454cab=>{const _0x8b140=_0x38ef7f;repeatAudioChunks[_0x8b140(0xc2)](_0x454cab[_0x8b140(0xa3)]);}),repeatMediaRecorder['addEventListener'](_0x38ef7f(0xdc),()=>{const _0x122e97=_0x38ef7f,_0x5d000c=new Blob(repeatAudioChunks,{'type':_0x122e97(0x9d)});userData['repeatAudio_'+(currentSentenceIndex+0x1)]=_0x5d000c,currentSentenceIndex++,playAndRecordNextSentence();}),setTimeout(()=>{const _0x4e5541=_0x38ef7f;repeatMediaRecorder[_0x4e5541(0xdc)]();},0x1388);}catch(_0x16b76b){alert(_0x38ef7f(0x9b));}}let currentWordIndex=0x0,wordMediaRecorder,wordAudioChunks=[];const words=[_0x5da25a(0xb3),_0x5da25a(0xee),_0x5da25a(0xa0),_0x5da25a(0xa9),_0x5da25a(0x104)];document[_0x5da25a(0xfd)](_0x5da25a(0xbb))[_0x5da25a(0xaf)](_0x5da25a(0xe6),()=>{const _0x49d478=_0x5da25a;document['getElementById'](_0x49d478(0xbb))['classList'][_0x49d478(0x107)](_0x49d478(0xb2)),document[_0x49d478(0xfd)](_0x49d478(0xe4))[_0x49d478(0xcf)]='Escucha...',playAndRecordNextWord();});async function playAndRecordNextWord(){const _0x405dcc=_0x5da25a;if(currentWordIndex>=words[_0x405dcc(0xd1)]){document['getElementById'](_0x405dcc(0xe4))[_0x405dcc(0xcf)]=_0x405dcc(0xcc),document['getElementById']('saveWordRepeatExercise')[_0x405dcc(0xa1)]['remove'](_0x405dcc(0xb2));return;}const _0x2f63c3=words[currentWordIndex],_0x466ef3=new SpeechSynthesisUtterance(_0x2f63c3);_0x466ef3[_0x405dcc(0x10b)]=_0x405dcc(0xdb),document[_0x405dcc(0xfd)](_0x405dcc(0xe4))[_0x405dcc(0xcf)]=_0x405dcc(0xcb)+(currentWordIndex+0x1)+_0x405dcc(0xca)+words[_0x405dcc(0xd1)],_0x466ef3[_0x405dcc(0xba)]=()=>{const _0x34a6e6=_0x405dcc;document[_0x34a6e6(0xfd)](_0x34a6e6(0xe4))[_0x34a6e6(0xcf)]=_0x34a6e6(0xde),startRecordingForWord();},window[_0x405dcc(0xda)][_0x405dcc(0x101)](_0x466ef3);}async function startRecordingForWord(){const _0x2b5b75=_0x5da25a;try{const _0x41ae5e=await navigator[_0x2b5b75(0xe8)][_0x2b5b75(0xef)]({'audio':!![]});wordMediaRecorder=new MediaRecorder(_0x41ae5e),wordMediaRecorder[_0x2b5b75(0xec)](),wordAudioChunks=[],wordMediaRecorder['addEventListener']('dataavailable',_0x26fc96=>{const _0x8ab3fd=_0x2b5b75;wordAudioChunks[_0x8ab3fd(0xc2)](_0x26fc96['data']);}),wordMediaRecorder[_0x2b5b75(0xaf)]('stop',()=>{const _0x29bd8f=_0x2b5b75,_0x1c523f=new Blob(wordAudioChunks,{'type':_0x29bd8f(0x9d)});userData[_0x29bd8f(0x106)+(currentWordIndex+0x1)]=_0x1c523f,currentWordIndex++,playAndRecordNextWord();}),setTimeout(()=>{wordMediaRecorder['stop']();},0x1388);}catch(_0x2c98fe){alert('No\x20se\x20puede\x20acceder\x20al\x20micrófono.\x20Verifica\x20los\x20permisos.');}}document[_0x5da25a(0xfd)](_0x5da25a(0xa5))[_0x5da25a(0xaf)](_0x5da25a(0xe6),()=>{const _0x5d0393=_0x5da25a;document['getElementById'](_0x5d0393(0xfb))[_0x5d0393(0xa1)]['add'](_0x5d0393(0xb2)),document['getElementById'](_0x5d0393(0xf1))[_0x5d0393(0xa1)]['remove'](_0x5d0393(0xb2));});async function saveFinalResults(){const _0x380536=_0x5da25a,_0xb30a63=new JSZip(),_0x10e63a={'name':userData[_0x380536(0xd9)],'age':userData[_0x380536(0xad)],'birthdate':userData[_0x380536(0xbe)],'contact':userData[_0x380536(0xf9)],'country':userData['country'],'city':userData['city'],'education':userData[_0x380536(0xfa)],'exerciseAnswer':userData[_0x380536(0xae)],'repeatAudioData':_0x380536(0x102)+currentSentenceIndex+_0x380536(0xc4),'wordRepeatAudioData':_0x380536(0x102)+currentWordIndex+_0x380536(0xb6),'videoNarrationAudio':userData[_0x380536(0xdf)]?_0x380536(0xd3):'No\x20grabado','imageDescriptionAudio':userData[_0x380536(0xe7)]?_0x380536(0xd3):'No\x20grabado'};_0xb30a63[_0x380536(0xe3)](_0x380536(0xb0),JSON[_0x380536(0xe1)](_0x10e63a,null,0x2));if(userData[_0x380536(0xdf)]){console[_0x380536(0xc8)]('Incluyendo\x20narración\x20del\x20video\x20en\x20el\x20ZIP.');const _0x41b96b=await userData['audioData'][_0x380536(0xab)]();_0xb30a63[_0x380536(0xe3)](_0x380536(0x9e),_0x41b96b);}else console['warn']('Narración\x20del\x20video\x20no\x20grabada.');if(userData[_0x380536(0xe7)]){console[_0x380536(0xc8)](_0x380536(0xed));const _0x456fbc=await userData[_0x380536(0xe7)][_0x380536(0xab)]();_0xb30a63[_0x380536(0xe3)](_0x380536(0x9c),_0x456fbc);}else console[_0x380536(0xf2)](_0x380536(0xb5));for(let _0x2aad46=0x1;_0x2aad46<=currentSentenceIndex;_0x2aad46++){if(userData[_0x380536(0x109)+_0x2aad46]){const _0x44345f=await userData[_0x380536(0x109)+_0x2aad46][_0x380536(0xab)]();_0xb30a63[_0x380536(0xe3)](_0x380536(0xe2)+_0x2aad46+_0x380536(0xa8),_0x44345f);}}for(let _0x5cf2b2=0x1;_0x5cf2b2<=currentWordIndex;_0x5cf2b2++){if(userData[_0x380536(0x106)+_0x5cf2b2]){const _0x168998=await userData['wordAudio_'+_0x5cf2b2][_0x380536(0xab)]();_0xb30a63[_0x380536(0xe3)](_0x380536(0xbc)+_0x5cf2b2+_0x380536(0xa8),_0x168998);}}_0xb30a63[_0x380536(0xd4)]({'type':_0x380536(0x103)})[_0x380536(0x10d)](_0x5e741a=>{const _0x35b027=_0x380536,_0x1869f1=document[_0x35b027(0x9f)]('a');_0x1869f1[_0x35b027(0xd0)]=URL[_0x35b027(0x105)](_0x5e741a),_0x1869f1[_0x35b027(0xbd)]=_0x35b027(0xce),_0x1869f1[_0x35b027(0xe6)](),alert('¡Resultados\x20descargados\x20con\x20éxito!');});}function _0x1083(){const _0x22b4fb=['6629HtPiWE','45740Pzifip','start','Incluyendo\x20descripción\x20de\x20la\x20lámina\x20en\x20el\x20ZIP.','talar','getUserMedia','startImageDescriptionRecording','downloadResults','warn','input[name=\x22answer\x22]:checked','exercise','value','disabled','imageDescriptionExercise','Audio\x20de\x20descripción\x20de\x20la\x20lámina\x20guardado\x20correctamente.','contact','education','wordRepeatExercise','6MRoIhT','getElementById','registration','assign','El\x20cielo\x20es\x20azul\x20como\x20el\x20mar\x20\x20piiii','speak','Audios\x20de\x20','blob','río','createObjectURL','wordAudio_','add','2122ZVgzeb','repeatAudio_','block','lang','stopRecording','then','781815sjbRGy','No\x20se\x20puede\x20acceder\x20al\x20micrófono.\x20Verifica\x20los\x20permisos.','descripcion_lamina.wav','audio/wav','narracion_video.wav','createElement','chipiciri','classList','Escucha...','data','1073556hwUbcl','saveWordRepeatExercise','waitMessage','startRecording','.wav','árbol','stopImageDescriptionRecording','arrayBuffer','257RZmGaW','age','exerciseAnswer','addEventListener','resultados_finales.json','4216wimMQm','hidden','peco','remove','Descripción\x20de\x20la\x20lámina\x20no\x20grabada.','\x20palabras\x20grabadas','display','style','repeatStatus','onend','startWordRepeatExercise','palabra_','download','birthdate','dataavailable','La\x20tecnología\x20nos\x20conecta\x20a\x20todas\x20las\x20personas.\x20piiii','El\x20aprendizaje\x20nunca\x20se\x20detiene\x20siempre\x20continua.\x20piiii','push','830niRVAV','\x20frases\x20grabadas','15fSgOxt','Por\x20favor,\x20selecciona\x20una\x20respuesta\x20antes\x20de\x20continuar.','El\x20botón\x20está\x20ahora\x20disponible.','log','repeatExercise','\x20de\x20','Escucha...\x20Palabra\x20','Ejercicio\x20completado.','country','resultados_comprimidos.zip','textContent','href','length','24SgjiRi','Incluido','generateAsync','45027nazimZ','audioExercise','20295379HDJdXs','Por\x20favor,\x20completa\x20todos\x20los\x20campos\x20antes\x20de\x20continuar.','name','speechSynthesis','es-ES','stop','No\x20se\x20ha\x20grabado\x20el\x20audio\x20de\x20la\x20narración\x20del\x20video.','Habla...','audioData','saveImageDescriptionAudio','stringify','frase_','file','wordRepeatStatus','querySelector','click','imageDescriptionAudioData','mediaDevices','Mi\x20mama\x20es\x20muy\x20buena\x20piiii'];_0x1083=function(){return _0x22b4fb;};return _0x1083();}
</script>
</body>
</html>
